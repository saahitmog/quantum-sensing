2022-10-06T12:33:27|ERROR|ESRMeasure|ESR_measurement Failed to update figure1: 'ESRMeasure' object has no attribute 'average_x'. ['Traceback (most recent call last):\n', '  File "C:\\Users\\ZHao\\.conda\\envs\\scopefoundry\\lib\\site-packages\\ScopeFoundry\\measurement.py", line 273, in _on_display_update_timer\n    self.update_display()\n', '  File "C:\\Users\\Public\\quantum_sensing\\quantum_sensing\\fancy_microscope\\custommeasure2.py", line 294, in update_display\n    self.current_plotline.setData(self.average_x[:self.cutoff], self.average_y[:self.cutoff])\n', "AttributeError: 'ESRMeasure' object has no attribute 'average_x'\n"]
2022-10-06T12:33:27|ERROR|ESRMeasure|ESR_measurement Failed to update figure1: 'ESRMeasure' object has no attribute 'average_x'. ['Traceback (most recent call last):\n', '  File "C:\\Users\\ZHao\\.conda\\envs\\scopefoundry\\lib\\site-packages\\ScopeFoundry\\measurement.py", line 273, in _on_display_update_timer\n    self.update_display()\n', '  File "C:\\Users\\Public\\quantum_sensing\\quantum_sensing\\fancy_microscope\\custommeasure2.py", line 294, in update_display\n    self.current_plotline.setData(self.average_x[:self.cutoff], self.average_y[:self.cutoff])\n', "AttributeError: 'ESRMeasure' object has no attribute 'average_x'\n"]
2022-10-06T12:33:27|ERROR|ESRMeasure|ESR_measurement Failed to update figure1: 'ESRMeasure' object has no attribute 'average_x'. ['Traceback (most recent call last):\n', '  File "C:\\Users\\ZHao\\.conda\\envs\\scopefoundry\\lib\\site-packages\\ScopeFoundry\\measurement.py", line 273, in _on_display_update_timer\n    self.update_display()\n', '  File "C:\\Users\\Public\\quantum_sensing\\quantum_sensing\\fancy_microscope\\custommeasure2.py", line 294, in update_display\n    self.current_plotline.setData(self.average_x[:self.cutoff], self.average_y[:self.cutoff])\n', "AttributeError: 'ESRMeasure' object has no attribute 'average_x'\n"]
2022-10-06T12:33:34|CRITICAL|root|Unhandled exception:Traceback (most recent call last):
  File "C:\Users\ZHao\.conda\envs\scopefoundry\lib\site-packages\ScopeFoundry\measurement.py", line 244, in start_stop
    self._start()
  File "C:\Users\ZHao\.conda\envs\scopefoundry\lib\site-packages\ScopeFoundry\measurement.py", line 134, in _start
    raise RuntimeError("Cannot start a new measurement while still measuring")
RuntimeError: Cannot start a new measurement while still measuring

2022-10-06T12:33:35|CRITICAL|root|Unhandled exception:Traceback (most recent call last):
  File "C:\Users\Public\quantum_sensing\quantum_sensing\fancy_microscope\SRScontrol.py", line 52, in initSRS
    deviceID = SRS.query('*IDN?')
  File "C:\Users\ZHao\.conda\envs\scopefoundry\lib\site-packages\pyvisa\resources\messagebased.py", line 607, in query
    self.write(message)
  File "C:\Users\ZHao\.conda\envs\scopefoundry\lib\site-packages\pyvisa\resources\messagebased.py", line 228, in write
    count = self.write_raw(message.encode(enco))
  File "C:\Users\ZHao\.conda\envs\scopefoundry\lib\site-packages\pyvisa\resources\messagebased.py", line 202, in write_raw
    return self.visalib.write(self.session, message)
  File "C:\Users\ZHao\.conda\envs\scopefoundry\lib\site-packages\pyvisa\ctwrapper\functions.py", line 1866, in write
    ret = library.viWrite(session, data, len(data), byref(return_count))
  File "C:\Users\ZHao\.conda\envs\scopefoundry\lib\site-packages\pyvisa\ctwrapper\highlevel.py", line 193, in _return_handler
    raise errors.VisaIOError(ret_value)
pyvisa.errors.VisaIOError: VI_ERROR_RSRC_NFOUND (-1073807343): Insufficient location information or the requested device or resource is not present in the system.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Public\quantum_sensing\quantum_sensing\fancy_microscope\custommeasure2.py", line 160, in run
    my_SRS = SRSctl.initSRS(27, 'SG384')
  File "C:\Users\Public\quantum_sensing\quantum_sensing\fancy_microscope\SRScontrol.py", line 55, in initSRS
    sys.exit()
SystemExit

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ZHao\.conda\envs\scopefoundry\lib\site-packages\ScopeFoundry\measurement.py", line 25, in run
    self.measurement._thread_run()
  File "C:\Users\ZHao\.conda\envs\scopefoundry\lib\site-packages\ScopeFoundry\measurement.py", line 179, in _thread_run
    self.run()
  File "C:\Users\Public\quantum_sensing\quantum_sensing\fancy_microscope\custommeasure2.py", line 253, in run
    SRSctl.disableSRS_RFOutput(my_SRS)
UnboundLocalError: local variable 'my_SRS' referenced before assignment

